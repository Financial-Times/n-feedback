@import 'n-ui-foundations/main';
@import 'o-buttons/main';
@import 'o-forms/main';
@import 'o-overlay/main';
@import "o-icons/main";
@import "o-colors/main";

// Desktop styles
@include oGridRespondTo($from: M){
	.feedback__container {
		.feedback__survey-trigger {
			z-index: 1000;
			display: block;
			width: 100px;
			height: 35px;
			position: fixed;
			right: 0px;
			bottom: 200px;
			margin-right: -39px;
			color: getColor('white');
			background: getColor('teal');
			border: 1px solid getColor('teal');
			transform: rotate(-90deg);
			@include oTypographySansBold(0);

			span {
				display: block;
				margin-top: -7px;
			}
		}
	}

	// overriding o-overlay styles and positioning the feedback box
	.o-overlay--feedback-overlay {
		/* Resetting the inline values first */
		left: inherit!important;
		margin-left: inherit!important;
		margin-top: inherit!important;
		top: inherit!important;

		/* Actual styles */
		right: 42px;
		bottom: 36px;
		width: 300px;
		height: 286px;
		z-index: 11;
	}

	.feedback__desktop__prompt {
		display: none;
	}

	.feedback__container__close-button {
		display: none;
	}
}

// Mobile only styles
@include oGridRespondTo($until: M){
	.o-overlay--feedback-overlay {
		top: 0;
		z-index: 110;
	}

	.feedback__container {
		display: block;
		background: getColor('white');
		text-align: center;
		padding: 1em;
		margin: 0 10px;

		.feedback__survey-trigger {
			margin-bottom: 10px;

			span {
				text-transform: lowercase;

				&::before {
					content: 'Leave ';
					text-transform: capitalize;
				}
			}
		}
	}

	.feedback__desktop__prompt {
		@include oTypographySansBold(0);
	}

	.feedback__container__close-button {
		@include oIconsGetIcon('cross', oColorsGetPaletteColor('black'), 20);
		border: none;
		float: right;

		span {
			@include oNormaliseVisuallyHidden;
		}
	}

}

// Hide on ad overlap
@media (max-width: 1000px) and (min-width: 980px) {
	.feedback__container {
		display: none;
	}
}

.o-overlay--feedback-overlay .o-overlay__content {
	@include oTypographySans(0);

	.feedback__primary-button {
		@include oButtons(default, primary);
	}

	.feedback__survey__close-button {
		border-bottom: none;
		margin-top: -10px;
		margin-right: -10px;

		span {
			@include oNormaliseVisuallyHidden;
		}
	}

	.feedback__question-header {
		@include oTypographySans(0);
		margin: 0 0 1em 0;
	}

	.feedback__question-text {
		display: none;
	}

	.feedback__question-text-entry {
		textarea {
			min-height: 126px;
		}
	}

	.feedback__question-radio {
		border-top: 1px solid getColor('slate');
		border-bottom: 1px solid getColor('slate');
		border-left: none;
		border-right: none;
		padding: 1em 0 0.4em 0;

		legend {
			@include oNormaliseVisuallyHidden;
		}

		.feedback__question-radio__container {
			@include oFormsGroup();
			display: flex;
			margin-top: 0;
			margin-bottom: 0;
			padding: 0 0 10px 10px;

			@include oGridRespondTo($until: M){
				padding: 0 0 10px 30px;
			}
		}

		.feedback__question-radio__choice-container {
			flex-grow: 1;
			text-align: center;
		}

		label {
			span {
				display: block;
				margin-left: -50px;
				margin-top: 30px;
			}
		}

		.hidden-label span {
			@include oNormaliseVisuallyHidden;
		}
	}

	.feedback__survey__button-bar {
		text-align: right;
		margin-bottom: 0;
	}
}
